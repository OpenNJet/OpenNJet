.\" Automatically generated by Pandoc 3.5
.\"
.TH "mysql_select_db" "3" "" "Version 3.4" "MariaDB Connector/C"
.SS Name
mysql_select_db \- selects a database as default
.SS Synopsis
.IP
.EX
#include \f[B]<mysql.h>\f[R]

int mysql_select_db(MYSQL * mysql,
                    const char * db);
.EE
.SS Description
Selects a database as default.
Returns zero on success, non\-zero on failure
.SS Parameters
.IP \[bu] 2
\f[CR]mysql\f[R] is a connection identifier, which was previously
allocated by \f[B]mysql_init(3)\f[R] and connected by
\f[B]mysql_real_connect(3)\f[R].
.IP \[bu] 2
\f[CR]db\f[R] \- the default database name
.SS Notes
.IP \[bu] 2
To retrieve the name of the default database either execute the SQL
command \f[CR]SELECT DATABASE()\f[R] or retrieve the value via
\f[B]mariadb_get_infov(3)\f[R] API function.
.IP \[bu] 2
The default database can also be set by the db parameter in
\f[B]mysql_real_connect(3)\f[R].
.SS Examples
.SS SQL
.IP
.EX
# \f[B]switch\f[R] \f[B]to\f[R] \f[B]default\f[R] \f[B]database\f[R] test
\f[B]USE\f[R] test;
# \f[B]check\f[R] \f[B]default\f[R] \f[B]database\f[R]
\f[B]SELECT\f[R] \f[B]DATABASE\f[R]();
+\f[I]\-\-\-\-\-\-\-\-\-\-\-\-+\f[R]
| \f[B]database\f[R]() |
+\f[I]\-\-\-\-\-\-\-\-\-\-\-\-+\f[R]
| test       |
+\f[I]\-\-\-\-\-\-\-\-\-\-\-\-+\f[R]
.EE
.SS MariadDB Connector/C
.IP
.EX
static int set_default_db(MYSQL *mysql)
{
  int rc;
  char *default_db;

  \f[I]/* change default database to test */\f[R]
  rc= mysql_select_db(mysql, \[dq]test\[dq]);
  \f[B]if\f[R] (rc)
    \f[B]return\f[R] rc;  \f[I]/* Error */\f[R]

  \f[I]/* get the default database */\f[R]
  rc= mariadb_get_infov(mysql, MARIADB_CONNECTION_SCHEMA, &default_db);
  \f[B]if\f[R] (rc)
    \f[B]return\f[R] rc; \f[I]/* Error */\f[R]

  \f[B]if\f[R] (strcmp(\[dq]test\[dq], default_db) != NULL)
  {
    printf(\[dq]Wrong default database\[rs]n\[dq]);
    \f[B]return\f[R] 1;
  }
  printf(\[dq]Default database: %s\[dq], default_db);
  \f[B]return\f[R] 0;
}
.EE
.SS See also
\f[B]mysql_real_connect(3)\f[R]
